# Урок 1. Инструментарий профессионала и Основы Git

**Тип занятия:** Лекция + Практикум (Live coding)  
**Продолжительность:** 3 астрономических часа  
**Сложность:** Базовая  

## Цели урока

1. Настроить рабочее место (IDE, интерпретатор).
2. Понять концепцию изоляции зависимостей (Virtual Environment).
3. Освоить базовый цикл работы с Git (локально и удаленно).
4. Научиться оформлять документацию проекта (Markdown).

---

## Часть 1. Конспект лекции

### 1. Введение. Культура разработки

Разработка — это не только написание кода, но и умение управлять им. Мы начинаем не с Django, а с фундамента, чтобы в середине курса не тратить часы на вопросы «почему у меня код работает, а у соседа — нет».

### 2. VS Code: Настройка «Мастерской»

Мы используем **Visual Studio Code**. Это не просто текстовый редактор, а расширяемая среда.

* **Интерфейс:** Проводник, Поиск, Git-контроль, Расширения.
* **Терминал:** Встроенный терминал (`Ctrl + ~`) — наш главный пульт управления.
* **Плагины (Extensions):**
  * *Python (Microsoft)* — база (подсветка, линтинг, запуск).
  * *Pylance* — для умного автодополнения.
  * *Markdown All in One* — для красивого README.
  * *Russian Language Pack* — (опционально, но лучше привыкать к английскому интерфейсу).

### 3. Виртуальное окружение (`venv`)

> **Аналогия:** Представьте, что вы строите дом. Для одного дома вам нужны молоток и гвозди. Для другого — бетономешалка. Если свалить все инструменты мира в одну кучу (глобальный Python), наступит хаос. Виртуальное окружение — это отдельный ящик с инструментами под конкретный проект.

* **Зачем нужно:** Чтобы библиотеки разных проектов (например, Django 3.2 и Django 5.0) не конфликтовали.
* **Команды:**
  * Создание: `python -m venv venv` (второй `venv` — это имя папки, стандарт де-факто).
  * Активация (Windows): `venv\Scripts\activate`.
  * Активация (Mac/Linux): `source venv/bin/activate`.
* **Признак успеха:** Появление `(venv)` в начале строки терминала.

### 4. Система контроля версий Git

> **Аналогия:** Git — это машина времени или точки сохранения (Save points) в игре. Если вы сломали код, вы всегда можете «загрузиться» с последнего сохранения. GitHub — это «облачное сохранение», чтобы играть с любого компьютера или с друзьями.

**Базовый цикл (The Flow):**

1. **Инициализация:** `git init` — превращаем обычную папку в репозиторий.
2. **Проверка статуса:** `git status` — главная команда. Показывает, что изменилось.
3. **Игнорирование мусора (.gitignore):**

    * Мы НЕ храним в Git: папку `venv` (она весит много и создается на каждой машине заново), `__pycache__` (компилированные файлы), файлы настроек с паролями `.env`.
    * Создаем файл `.gitignore` и пишем туда:

        ```text
        venv/
        __pycache__/
        .vscode/
        *.pyc
        ```

4. **Добавление в индекс (Stage):** `git add .` (или имя файла). Мы говорим: «Я хочу сохранить эти изменения».
5. **Коммит (Commit):** `git commit -m "Описание того, что сделали"`. Это само сохранение.

    * *Правило:* Сообщение должно быть осмысленным. "Fix" — плохо. "Add main menu template" — хорошо.

### 5. Ветвление и Слияние (Branching & Merging) — **NEW**

> **Аналогия:** Представьте, что вы пишете книгу. В черновике (ветка `dev`) вы можете зачеркивать, писать бред, пробовать разные концовки. Читатель (пользователь) видит только чистовик (ветка `main`). Когда глава в черновике готова и вычитана, вы переписываете её в чистовик.

**Цикл разработки фичи:**

1. **Ветвление:** Мы никогда не пишем новый код прямо в `main`. Мы создаем ответвление.
    * `git branch` — посмотреть, где мы.
    * `git checkout -b dev` — создать ветку `dev` и сразу перепрыгнуть в нее.
2. **Работа:** Пишем код, создаем файлы, делаем коммиты. В этот момент ветка `main` стоит на месте и ничего не знает о наших подвигах.
3. **Слияние (Merge):** Момент истины. Мы хотим перенести изменения из `dev` в `main`.
    * **Шаг 1:** Переходим в ветку, *в которую* хотим влить изменения (в приемник): `git checkout main`.
    * **Шаг 2:** Даем команду на слияние: `git merge dev`.
    * Git возьмет все новые коммиты из `dev` и применит их к `main`. Теперь они синхронизированы.

### 6. Удаленный репозиторий (GitHub)

* Регистрация/Вход на GitHub.
* Создание пустого репозитория.
* Связывание локального и удаленного репозитория: `git remote add origin <ссылка>`.
* Отправка кода: `git push -u origin master` (или main).
* Ветвление (кратко):
  * `master/main` — священная ветка, там только рабочий код.
  * `dev` — ветка для разработки.
  * `git checkout -b dev` — создать и перейти.

*Важно:* После слияния локально, нам нужно обновить удаленный репозиторий: `git push origin main`.

### 7. Markdown (README.md)

Это лицо вашего проекта.

* Заголовки (`#`, `##`).
* Списки (`-`, `1.`).
* Код (тройные кавычки \`\`\`).
* Ссылки `[Текст](URL)`.

---

### Полезные ссылки (Материалы к уроку)

1. **Git Book (Ru)** — Библия Git. Читать главы 1 и 2. [Ссылка](https://git-scm.com/book/ru/v2)
2. **Markdown Cheat Sheet** — Шпаргалка по разметке. [Ссылка](https://www.markdownguide.org/cheat-sheet/)
3. **gitignore.io** — Генератор файлов .gitignore. [Ссылка](https://www.toptal.com/developers/gitignore)

---

## Часть 2. Практическое задание №1

**Тема:** Полный цикл инициализации проекта (Branch -> Code -> Merge).  
**Срок выполнения:** 1 неделя.  
**Максимальный балл:** 8 баллов.  

### Описание задания

Вы пройдете путь от создания пустого репозитория до реализации первой "фичи" (скрипта приветствия) через правильный процесс разработки с использованием ветвления.

### Пошаговая инструкция

1. **Подготовка:**
    * Создайте папку проекта `first_web_project`.
    * Откройте её в VS Code.
    * Создайте и активируйте виртуальное окружение (`python -m venv venv`).
2. **Инициализация (Ветка main):**
    * Инициализируйте Git (`git init`).
    * Создайте файл `.gitignore` (исключите `venv/`, `.vscode/`, `__pycache__/`).
    * Создайте файл `README.md` (пока только заголовок: `# My First Django Project`).
    * Сделайте **Первый коммит** в ветку `main`: `git add .` -> `git commit -m "Initial commit: gitignore and readme"`.
3. **Разработка (Ветка dev):**
    * Создайте ветку разработки и перейдите в нее: `git checkout -b dev`.
    * Создайте файл `main.py`. Напишите внутри: `print("Hello, Django World!")`.
    * Дополните `README.md`: добавьте описание "Этот проект — учебный полигон" и инструкцию "Запуск: `python main.py`".
    * Сделайте **Второй коммит** (уже в ветке `dev`): `git commit -am "Add main script and update docs"`.
    * Отправьте изменения на сервер: `git push -u origin dev`.
    * *Проверка:* Попробуйте переключиться назад в `main` (`git checkout main`) и посмотрите в проводник файлов. Файл `main.py` исчезнет, а `README` станет старым. Это нормально! Вернитесь в `dev`, убедитесь, что все на месте.
4. **Слияние (Merge):**
    * Перейдите в главную ветку: `git checkout main`.
    * Выполните слияние: `git merge dev`.
    * Теперь в вашей ветке `main` должны появиться изменения (файл `main.py`).
5. **Публикация:**
    * Создайте репозиторий на GitHub.
    * Свяжите его с локальным (`git remote add...`).
    * Отправьте изменения на сервер: `git push -u origin main`.

### Формат сдачи

Ссылка на репозиторий в GitHub.

---

## Критерии оценивания (Аддитивная система)

Максимум: **8 баллов**.

| Критерий | Баллы | Описание |
| :--- | :---: | :--- |
| **Репозиторий доступен** | **0** | Если ссылка не открывается или репозиторий пуст — работа не проверяется (0 баллов). |
| **Чистота репозитория** | **+2** | `.gitignore` работает корректно. В репозитории **нет** папки `venv`, `__pycache__` и файлов IDE. *(Если мусор есть — 0 баллов за этот пункт + штраф).* |
| **История коммитов (Git Flow)** | **+3** | **Ключевой пункт.** История коммитов показывает, что разработка велась итеративно. Есть минимум 2 коммита. В ветке `main` присутствует файл `main.py` и обновленный `README.md` (доказательство успешного `merge`). Ветка `dev` присутствует. |
| **Оформление README.md** | **+2** | Использована Markdown-разметка (заголовок, описание, блок кода/команда запуска). |
| **Работоспособность кода** | **+1** | Скрипт `main.py` присутствует и выводит текст без ошибок. |

### Штрафы

* **-2 балла:** В репозитории есть папка `venv` (Грубая ошибка).
* **-1 балл:** Коммиты с бессмысленными названиями ("123", "update").
* **-1 балл:** Все файлы добавлены одним коммитом "Initial commit" (значит, студент не делал ветвление/слияние, а просто залил все сразу).
