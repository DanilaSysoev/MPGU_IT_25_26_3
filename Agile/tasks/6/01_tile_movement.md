
# Задача 1: Стоимость передвижения по клеткам карты (8 + 2 балла, дедлайн 21.10.25)

В игре персонаж перемещается по клеткам карты, каждая из которых имеет свой тип местности. Разные типы местности требуют разное количество очков движения. Кроме того, некоторые особенности персонажа и погодные условия модифицируют эти значения.

Необходимо реализовать расчет стоимости передвижения по типу местности **двумя способами**:

1. С использованием `enum` и `switch-case`.
2. Через иерархию классов с виртуальным методом.

---

## Исходные данные

### Типы местности и базовые стоимости

| Тип местности   | Базовая стоимость |
| --------------- | ----------------- |
| Plain (равнина) | 1                 |
| Forest (лес)    | 2                 |
| Swamp (болото)  | 3                 |
| Mountain (горы) | 4                 |

---

## Модификаторы

1. Если у персонажа есть навык **ForestWalker**, стоимость передвижения по лесу уменьшается на 1 (но не может быть меньше 1).
2. Если идет дождь (**isRaining = true**), стоимость передвижения по болоту увеличивается на 1.
3. Если персонаж принадлежит к горной породе (**isMountainBreed = true**), стоимость передвижения по горам уменьшается на 2 (но не может быть меньше 1).

---

## Входные данные

Для каждого расчета передаются:

* Тип местности (`Plain`, `Forest`, `Swamp`, `Mountain`);
* Флаги:

  * `hasForestWalker` — наличие навыка передвижения по лесу;
  * `isRaining` — идет ли дождь;
  * `isMountainBreed` — горная ли порода персонажа.

---

## Вспомогательный класс контекста

Создайте отдельный класс **MovementContext**, который инкапсулирует состояние условий передвижения.
Он должен содержать следующие булевы свойства:

* `HasForestWalker`
* `IsRaining`
* `IsMountainBreed`

Этот объект передаётся в методы или свойства расчета стоимости, чтобы учитывать текущее состояние персонажа и погоды.

---

## Выходные данные

Целое число — итоговая стоимость прохода по клетке данного типа с учетом всех модификаторов.

---

## Часть A — Реализация через enum + switch

1. Создайте перечисление **TerrainType**, представляющее тип местности.
2. Реализуйте класс **MovementCostCalculatorEnum**, который по типу местности и объекту `MovementContext` определяет итоговую стоимость передвижения.
3. Используйте конструкцию `switch-case` для обработки различных типов местности и применения модификаторов.

---

## Часть B — Реализация через иерархию классов

1. Создайте абстрактный базовый класс **Terrain**, представляющий общие свойства и поведение местности.
2. В этом классе должно быть:

   * Закрытое поле `baseCost`, задающее базовую стоимость передвижения;
   * Публичное свойство `BaseCost`, возвращающее значение `baseCost`;
   * Виртуальный метод `GetCost(MovementContext context)`, который возвращает стоимость прохода по данной клетке.
     По умолчанию он может просто возвращать `BaseCost`.
3. Для каждого типа местности (`Plain`, `Forest`, `Swamp`, `Mountain`) создайте отдельный подкласс, наследующий `Terrain`, и задайте в конструкторе соответствующее значение `baseCost`.
4. В каждом подклассе при необходимости переопределите метод `GetCost(MovementContext context)`, чтобы применить свои модификаторы (например, лес учитывает `HasForestWalker`, горы — `IsMountainBreed` и т. д.).
5. Реализуйте класс **MovementCostCalculatorOop**, который принимает объект `Terrain` и объект `MovementContext`, а затем возвращает стоимость через вызов `terrain.GetCost(context)`.

---

## Дополнительное задание

Добавьте новый тип местности `Road` (дорога) со следующими правилами:

* Базовая стоимость = 1.
* Ни погода, ни навыки, ни особенности персонажа **не влияют** на стоимость.

После добавления нового типа:

* В реализации на основе `enum` потребуется изменить код в нескольких местах (`enum`, `switch`, модификаторы).
* В реализации на основе классов достаточно будет просто добавить новый класс `Road`.

---

## Контрольные примеры (ожидаемые результаты)

| Тип местности | Контекст                 | Ожидаемая стоимость |
| ------------- | ------------------------ | ------------------- |
| Plain         | без модификаторов        | 1                   |
| Forest        | без модификаторов        | 2                   |
| Forest        | `HasForestWalker = true` | 1                   |
| Swamp         | без модификаторов        | 3                   |
| Swamp         | `IsRaining = true`       | 4                   |
| Mountain      | без модификаторов        | 4                   |
| Mountain      | `IsMountainBreed = true` | 2                   |
| Road          | любой контекст           | 1                   |

---
