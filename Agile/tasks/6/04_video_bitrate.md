# Задача4 : Выбор битрейта видеопотока (8 + 2 балла, дедлайн 21.10.25)

Система подбирает целевой битрейт в зависимости от типа контента и условий сети/устройства.

Два подхода:
1. `enum + switch-case`;
2. Иерархия классов с виртуальным методом.

---

## Исходные данные
### Тип контента и базовый битрейт (Мбит/с)
| Тип контента | Базовый битрейт |
|--------------|------------------|
| SD | 2 |
| HD | 5 |
| FullHD | 8 |
| UHD | 15 |

---

## Модификаторы
1. `isMobile = true` — уменьшить на 20% (округление вниз).
2. `hasDataSaver = true` — уменьшить на 30% (после п.1, округление вниз).
3. `isPeakHours = true` — уменьшить на 10% (после п.2, округление вниз).
Минимум 1 Мбит/с.

---

## Входные данные
- Тип контента;
- Флаги: `isMobile`, `hasDataSaver`, `isPeakHours`.

---

## Вспомогательный класс контекста
**StreamContext**:
- `IsMobile`
- `HasDataSaver`
- `IsPeakHours`

---

## Выходные данные
Целое число — итоговый битрейт (Мбит/с).

---

## Часть A — enum + switch
Перечисление **ContentType**, калькулятор **BitrateCalculatorEnum**.

1. Создайте перечисление **ContentType**, представляющее формат контента.
2. Реализуйте класс **BitrateCalculatorEnum**, который по формату контента и объекту `StreamContext` определяет итоговый битрейт.
3. Используйте конструкцию `switch-case` для обработки различных форматов контента и применения модификаторов.

---

## Часть B — Иерархия классов

1. Создайте абстрактный базовый класс **ContentProfile**, который инкапсулирует общую логику.
2. Добавьте приватное поле `baseBitrate` и публичное свойство `BaseBitrate`, возвращающее это значение.
3. Определите виртуальный метод `GetBitrate(StreamContext context)`, который по умолчанию возвращает `BaseBitrate` (или выполняет минимальную обработку).
4. Создайте подклассы `SD`, `HD`, `FullHD`, `UHD`, задающие `baseBitrate` в конструкторе.
5. В нужных подклассах переопределите `GetBitrate` и примените модификаторы на основе `StreamContext`.
6. Реализуйте класс-калькулятор **BitrateCalculatorOop**, который принимает экземпляр базового типа и объект `StreamContext`, затем возвращает результат через вызов виртуального метода.

---

## Дополнительное задание
Добавить тип **Live** (прямой эфир) с базовым битрейтом 6, на модификаторы **не реагирует**.

---

## Контрольные примеры
| Тип | Контекст | Ожидаемый битрейт |
|-----|----------|-------------------|
| HD | без модификаторов | 5 |
| FullHD | `IsMobile = true` | 6 |
| UHD | `HasDataSaver = true` | 10 |
| SD | `IsMobile = true, HasDataSaver = true, IsPeakHours = true` | 1 |
| Live | любой контекст | 6 |
