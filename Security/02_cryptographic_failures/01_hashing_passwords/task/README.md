# Кибербезопасность 5. Разработка безопасного ПО (максимальный балл 14 + 5, дедлайн 06.11.25 включительно)

Ваша задача - устранить уязвимость, связанную с использованием небезопасного алгоритма хэширования, реализовать ленивую миграцию пользователей со старой системы на новую, реализовать контроль попыток ввести пароль (блокировка пользователя после определенного числа попыток либо экспоненциальный рост времени задержки между попытками)

### Вариант 1 - алгоритм argon2, блокировка
### Вариант 2 - алгоритм bcrypt, блокировка
### Вариант 3 - алгоритм argon2, рост задержки
### Вариант 4 - алгоритм bcrypt, рост задержки

Для контроля попыток добавьте в класс пользователя необходимый атрибут.
Блокировка пользователя осуществляется после 5 неудачных попыток.
Задержка в секундах вычисляется по формуле 1.5^n + 1

---

## Критерии оценки

| №     | Критерий                                  | Баллы                                                                                                                                                                           | Содержание   |
| ----- | ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| **1** | **Прохождение одного теста** | **2.0** | проходит отдельный тест |
| **2** | **Реализация**                                   | **до 5 баллов** | субъективно оценивается реализация |

---


## Создание и активация виртуального окружения

### macOS / Linux

```bash
cd task
python3 -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
pip install -r requirements.txt
```

### Windows (PowerShell)

```powershell
cd task
py -m venv .venv
.\.venv\Scripts\Activate.ps1
python -m pip install --upgrade pip
pip install -r requirements.txt
```

> Чтобы увидеть, что используете правильное окружение:
>
> * macOS/Linux: `which python` и `which pytest` → путь должен указывать в `.venv`
> * Windows: `where python` и `where pytest`

## Запуск тестов

### macOS / Linux
```bash
chmod +x run_tests.sh
./run_tests.sh <номер_варианта>
```

### Windows (PowerShell)
```powershell
run_tests.bat <номер_варианта>
```

Полезные варианты:

```bash
pytest -q                 # тише
pytest -vv                # подробнее
pytest tests/test_*.py    # запустить конкретный файл
pytest -k "argon2"        # отфильтровать по подстроке имени теста
```
